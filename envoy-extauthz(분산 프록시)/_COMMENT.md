분산 프록시라고 하네요 nginx하고 비교 대상인듯.

# Envoy Proxy 설명

Envoy는 고성능 C++ 기반 분산 프록시로, 현대적인 마이크로서비스 아키텍처에서 서비스 간 통신을 위해 설계된 오픈소스 서비스 프록시입니다. 다음과 같은 주요 특징을 가지고 있습니다:

## Envoy 주요 특징

1. **서비스 프록시**: Envoy는 L7(애플리케이션 계층) 프록시로 작동하며, 네트워크 트래픽을 효율적으로 관리합니다.

2. **서비스 메시(Service Mesh)**: 마이크로서비스 간의 통신을 제어하고 관찰할 수 있는 인프라 레이어를 제공합니다.

3. **플랫폼 독립성**: 모든 서비스와 함께 작동할 수 있으며, 언어나 프레임워크에 구애받지 않습니다.

4. **고급 로드 밸런싱**: 다양한 로드 밸런싱 알고리즘 및 트래픽 분산 기능을 제공합니다.

5. **동적 구성**: API를 통한 동적 구성 관리가 가능합니다.

## Envoy의 주요 사용 사례

1. **API 게이트웨이**: 클라이언트 애플리케이션과 백엔드 서비스 사이의 통일된 진입점 역할

2. **인그레스/이그레스 프록시**: 클러스터 내부와 외부 간의 트래픽 관리

3. **서비스 메시 사이드카**: 마이크로서비스와 함께 배포되어 네트워크 통신 관리

4. **트래픽 제어**: 트래픽 라우팅, 분할, A/B 테스트 지원

## 예제에서의 Envoy 역할

프로젝트에서 보이는 것처럼, Envoy는 다음과 같이 작동합니다:

1. **프론트 프록시(front-envoy)**: 모든 외부 요청을 수신하고 처리합니다.

2. **외부 인증(External Authorization)**: 요청이 들어올 때 `fiber_authz` 서비스에 인증을 요청합니다.

   - API 키 검증(`x-api-key` 헤더 확인)
   - 허가된 요청만 업스트림 서비스로 전달

3. **요청 라우팅**: 인증 통과 후 요청을 적절한 업스트림 서비스(`fiber_app`)로 전달합니다.

## Envoy vs. Nginx/HAProxy

Envoy는 다음과 같은 점에서 다른 프록시와 차별화됩니다:

- **동적 구성**: 런타임 중에 구성을 변경할 수 있는 강력한 API 제공
- **관찰성**: 상세한 통계, 로깅, 추적 기능 내장
- **확장성**: 다양한 필터와 플러그인으로 기능 확장 가능
- **서비스 메시 중심**: Istio와 같은 서비스 메시 솔루션의 데이터 플레인으로 사용

Envoy는 특히 Kubernetes와 같은 컨테이너 오케스트레이션 환경에서 마이크로서비스 아키텍처를 위한 강력한 네트워크 프록시 솔루션으로 널리 사용됩니다.
