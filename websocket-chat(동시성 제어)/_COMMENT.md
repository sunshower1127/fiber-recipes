# websocket-chat

웹소켓을 어떻게 하면 동시성을 잘 제어하면서 만들 수 있을까에 대한 예제임.

일단 웹소켓의 클라이언트를 관리하는 go함수를 하나 띄움. 얘는 select를 계속 돌면서 연결/해제/메시지전송 을 관리함

그리고 fiber를 통해서 웹소켓 서버를 만듦. fiber-websocket이 있으니깐 미들웨어 그냥 갖다 쓰면 됨.

웹소켓 서버에서도 무한루프가 돌아가는데, fiber-websocket에서 알아서 go루틴을 띄워줘서 그런가봄

암튼 웹소켓 서버의 무한루프는 read 무한루프임. 내 클라이언트 커넥션에 뭔가 메시지가 오면 띄워주는거.

node에서의 웹소켓 서버보다 좀 더 로우레벨이라고 해야하나

복잡하네요...

저같은 범부가 어떻게 동시성 제어를 완벽하게 이해하겠습니까
그냥 그런갑다 하는거죠
